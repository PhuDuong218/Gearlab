<!DOCTYPE html>
<html lang="en">

<head>
    <title>Linh kiện điện tử</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="icon" href="../../Images/logo/favicon-32x32.png">
    <link rel="stylesheet" href="../../admin/css/addproduct.css">
</head>

<body>
    <div class="container">
        <header class="header__content">
            <!-- Menu -->
            <div class="header__menu">
                <!-- <a class="nav-link" data-widget="pushmenu" href="#" role="button" onclick="toggleMenu()"> -->
                <button id="menu-toggle" class="button-menu"><i class="fas fa-bars"></i></button>

                <!-- menu -->
                <div class="menu">
                    <ul>
                        <li><a href="../admin/admin.html"><i class="fas fa-home"></i><span>Trang chủ</span></a></li>
                        <!-- <div class="drop"> -->
                        <li class="dropdown">
                            <div class="dropdown-header">
                                <i class="fas fa-box"></i><span>Sản phẩm</span>
                            </div>
                            <i class="fas fa-chevron-right arrow-icon"></i>


                            <div class="dropdown-menu">
                                <a href="../admin/pages/allproducts.html">Tất cả sản phẩm</a>
                                <a href="../../admin/pages/addproduct.html">Thêm sản phẩm</a>
                            </div>
                        </li>

                        <li class="dropdowns">
                            <div class="dropdowns-header">
                                <i class="fas fa-clipboard-list"></i><span>Quản lý đơn hàng</span>
                            </div>
                            <i class="fas fa-chevron-right arrow-icon"></i>


                            <div class="dropdowns-menu">
                                <a href="../../admin/pages/order.html">Tất cả đơn hàng</a>
                                <a href="../../admin/pages/order.html">Đã xác nhận</a>
                                <a href="../../admin/pages/order.html">Đã giao</a>
                                <a href="../../admin/pages/order.html">Chưa xử lý</a>
                                <a href="../../admin/pages/order.html">Đã hủy</a>
                            </div>
                        </li>
                        <!-- </div> -->

                        <li><a href="../../admin/pages/user.html"><i class="fas fa-user-cog"></i><span>Quản lý người
                                    dùng</span></a></li>
                        <a href="../../admin/pages/Orderdetails.html"><li><i class="fas fa-chart-bar"></i><span>Thống kê</span></li></a>
                        <li><i class="fas fa-cogs"></i><span>Cài đặt</span></li>
                    </ul>
                </div>
            </div>

            <!-- Liên kết và tìm kiếm -->
            <div class="header__main">
                <ul class="header__active">
                    <li><a href="/index.html"><i class="fas fa-undo-alt"></i> Về trang Web</a></li>
                    <li><a href="/">Liên hệ</a></li>
                </ul>
                <form class="input-group" action="" method="post">
                    <div class="input-wrapper">
                        <input type="text" class="form-control" placeholder="Tìm kiếm..." aria-label="Search">
                        <button type="submit" id="" class="header__search--button">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </form>
            </div>

            <!-- Công cụ -->
            <div class="header__tool">
                <a href="#" title="Hồ sơ"><i class="fas fa-user"></i></a>
                <a href="#" title="Thông báo"><i class="fas fa-bell"></i></a>
                <a href="../../admin/index.html" title="Đăng xuất"><i class="fas fa-sign-out-alt"></i></a>
            </div>
        </header>
    </div>

    <section class="section-container">

        <div class="form-container">

            <h1>THÊM SẢN PHẨM</h1>

            <form class="form-add" action="" method="post">
                <label for="name">Tên sản phẩm: </label>
                <input type="text" id="name" name="name" value="" required>

                <div class="form-row">
                    <label for="value-product">Giá:</label>
                    <input type="text" id="value-product" name="value-product" value="" required>

                    <label for="choice">Phân loại:</label>
                    <select id="choice" name="choice">
                        <option value="chuot">Chuột</option>
                        <option value="banphim">Bản phím</option>
                        <option value="manhinh">Màn hình</option>
                        <option value="tainghe">Tai nghe</option>
                        <option value="thenho">Thẻ nhớ</option>
                        <option value="loa">Loa</option>
                    </select>
                </div>

                <label for="myfile">Thêm ảnh sản phẩm:</label>
                <input type="file" id="myfile" name="myfile">

                <label for="desctibe">Mô tả:</label>
                <input class="full-width" type="text" id="desctibe" name="desctibe" placeholder="Nhập mô tả" required>

                <button class="submit">Thêm sản phẩm</button>
            </form>
        </div>


    </section>




    <script>

        // Toggle hiển thị menu chính
        document.getElementById('menu-toggle').addEventListener('click', function () {
            const menu = document.querySelector('.menu');
            menu.classList.toggle('menu-visible');
        });

        // Xử lý các dropdown (Sản phẩm)
        document.querySelectorAll('.dropdown-header, .dropdown .arrow-icon').forEach(element => {
            element.addEventListener('click', function () {
                const dropdown = this.closest('.dropdown'); // Tìm dropdown chứa phần tử được nhấn
                toggleDropdown(dropdown);
            });
        });

        // Hàm xử lý toggle mở/đóng menu con
        function toggleDropdown(dropdown) {
            dropdown.classList.toggle('open');
        }

        // Xử lý các dropdowns (Quản lý đơn hàng)
        document.querySelectorAll('.dropdowns-header, .dropdowns .arrow-icon').forEach(element => {
            element.addEventListener('click', function () {
                const dropdowns = this.closest('.dropdowns'); // Tìm dropdown chứa phần tử được nhấn
                toggleDropdown(dropdowns);
            });
        });

        document.querySelector('.form-add').addEventListener('submit', function (event) {
            event.preventDefault(); // Ngừng gửi form cho đến khi xác nhận thông tin hợp lệ

            const name = document.getElementById('name').value.trim();
            const price = document.getElementById('value-product').value.trim();
            const description = document.getElementById('desctibe').value.trim();

            // Kiểm tra tính hợp lệ của các trường thông tin
            if (!name || !price || !description) {
                alert('Vui lòng điền đầy đủ thông tin!');
                return; 
            } else if (isNaN(price) || parseFloat(price) <= 0) {
                alert('Giá sản phẩm không hợp lệ!');
                return; 
            }

            // Nếu thông tin hợp lệ, tạo thông báo thành công
            const successMessage = document.createElement('div');
            successMessage.textContent = 'Thêm sản phẩm thành công!';
            successMessage.style.cssText = 'color: green; margin-top: 20px; font-size: 18px;';

            // Thêm thông báo thành công vào form-container
            document.querySelector('.form-container').appendChild(successMessage);

            // Sau 3 giây, gửi form và chuyển hướng đến trang 'allproducts.html'
            setTimeout(() => {
                event.target.submit();
                window.location.href = 'allproducts.html';
            }, 3000);
        });


        document.getElementById('logout-btn').addEventListener('click', function () {
            if (confirm('Bạn có chắc chắn muốn đăng xuất không?')) {
                window.location.href = 'admin/index.html';
            }
        });




    </script>
</body>

</html>
