<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/fontawesome-free-5.12.1-web/css/all.css">
    <link rel="stylesheet" href="../css/payment.css">
    <link rel="stylesheet" href="../css/Cart.css">
    <title>Thanh toán</title>
    <link rel="icon" type="image" href="../LinhKienDienTu/Images/logo/favicon-32x32.png">

    <!-- BOOSTRAP -->
    <link rel="stylesheet" href="../css/bootstrap.min.css">

</head>

<body>
    <div class="full">
        <header class="header__content">
            <div class="header__menu" id="mainNav">
                <a class="header__link" href="/page_user/user-index.html">
                    <img class="header__logo" src="/Images/logo/logo.png" alt="logo">
                </a>
                <form class="input-group search-form" action="" method="post">
                    <div class="input-wrapper">
                        <input type="text" class="form-control" placeholder="Tìm kiếm..." aria-label="Search">
                        <button type="submit" id="button-addon2" class="header__search--button">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </form>
                <ul class="header__active">
                    <li><a href="/page_user/user-index.html">Trang chủ</a></li>
                    <li><a href="/page_user/menutong/menu.html">Sản phẩm</a></li>
                    <li><a href="/page_user/Intro.html">Giới thiệu</a></li>
                    <li><a href="/page_user/Contact.html">Liên hệ</a></li>
                </ul>
            </div>
            <div class="header__tool">
                <a href="/page_user/user-profile.html" title="Hồ sơ">
                    <i class="fa fa-user"></i>
                </a>
                <a href="/page_user/Cart.html" title="Giỏ hàng">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="notify-cart">0</span>
                </a>
                <a href="/index.html" title="Đăng xuất">
                    <i class="fas fa-sign-out-alt"></i>
                </a>
            </div>
        </header>

        <!-- BREADCRUMB-->
        <section class="breadcrumb_section container">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="./user-index.html">Trang chủ</a></li>
                    <li class="breadcrumb-item"><a href="./user-cart.html">Giỏ hàng</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Thanh toán</li>

                </ol>
            </nav>
        </section>
        <!-- PAYMENT  -->
        <section class="payment container">
            <div class="payment__content row">
                <div class="payment__content__left col-6">
                    <h3>Thông tin giao hàng</h3>
                    <form class="payment--form" method="post" action="" onsubmit="return thanks()">
                        <!-- Họ tên  -->
                        <label for="payment--receiver"><i class="fas fa-user"></i>Họ tên</label>
                        <input type="text" id="payment--receiver" required placeholder="Tên người nhận hàng">
                        <!-- Điện thoại  -->
                        <label for="payment--phone"><i class="fas fa-phone-volume"></i>Điện thoại</label>
                        <input type="tel" id="payment--phone" required pattern="(84|0[3|5|7|8|9])+([0-9]{8})\b"
                            placeholder="Số điện thoại người nhận hàng">
                        <!-- Địa chỉ  -->
                        <label for="payment--adr"><i class="far fa-address-card"></i></i>Địa chỉ</label>
                        <input type="text" id="payment--adr" required placeholder="Địa chỉ nhận hàng">
                        <input type="checkbox" id="payment--defaul">
                        <label for="payment--defaul"> Sử dụng thông tin mặc
                            định <i class="far fa-question-circle">
                                <div class="more-info">Thông tin về họ tên, số điện thoại, địa chỉ mà bạn lưu trong tài
                                    khoản (nếu có) </div>
                            </i> </label>
                        <!-- Ghi chú  -->
                        <label for="payment--note"><i class="far fa-comment"></i></i>Ghi chú</label>
                        <textarea type="text" name="user-note" id="payment--note" rows="3"
                            placeholder="Ghi yêu cầu của bạn tại đây."></textarea>
                        <!-- Button trigger modal -->

                    </form>
                </div>
                <div class="payment__content__right col-6">
                    <h3>Phương thức thanh toán</h3>
                    <label>Chọn phương thức:</label>
                    <div class="btn-group" id="payment__method" role="group"
                        aria-label="Basic radio toggle button group">
                        <input type="radio" name="btnradio" id="btnradio1" autocomplete="off" checked>
                        <label class="btn active" for="btnradio1"><img
                                src="https://bizweb.dktcdn.net/100/421/124/themes/811860/assets/cart_payment_1.svg?1617678628801"
                                alt="Hình thức thanh toán"></label>
                        <div class="payment__method--visa payment__method">
                            <p>Phương thức hiện tại không khả dụng.</p>
                        </div>
                        <input type="radio" class="" name="btnradio" id="btnradio2" autocomplete="off">
                        <label class="btn " for="btnradio2"><img
                                src="https://bizweb.dktcdn.net/100/421/124/themes/811860/assets/cart_payment_2.svg?1617678628801"
                                alt="Hình thức thanh toán"></label>
                        <div class="payment__method--master payment__method">
                            <p>Phương thức hiện tại không khả dụng.</p>
                        </div>
                        <input type="radio" class="" name="btnradio" id="btnradio3" autocomplete="off">
                        <label class="btn " for="btnradio3"><img
                                src="https://bizweb.dktcdn.net/100/421/124/themes/811860/assets/cart_payment_3.svg?1617678628801"
                                alt="Hình thức thanh toán"></label>
                        <div class="payment__method--bank payment__method">
                            <p>1. Ngân hàng thương mại cổ phần Ngoại thương Việt Nam Vietcombank-VCB
                                <br>
                                STK: 1039415889
                                <br>
                                Chủ Tài Khoản: DO PHU DUONG
                                <br>
                                Nội dung: SĐT + họ tên
                                <br>
                                <br>
                                2. Thanh toán qua Momo
                                <br>
                                STK: 0839575080
                                <br>
                                Chủ Tài Khoản: DO PHU DUONG
                                <br>
                                Nội dung: SĐT + họ tên
                                <br>
                                <br>
                                Chi phí vận chuyển và thời gian vận chuyển sẽ được nhân viên gọi điện xác nhận!
                                <br>Thông tin chi
                                tiết đơn hàng sẽ được chúng tôi gửi về email của bạn!
                                <br>
                                <span>Lưu ý:</span>
                                <br>
                                SAU KHI CHUYỂN KHOẢN XONG, NHÂN VIÊN CỦA GEARLAB SẼ GỌI CHO BẠN ĐỂ XÁC NHẬN. NẾU
                                KHÔNG
                                NHẬN ĐƯỢC CUỘC GỌI QUÁ 15 PHÚT, XIN HÃY GỌI <span>HOTLINE:1800-1003 </span>
                                <br>
                            </p>
                        </div>

                        <input type="radio" class="" name="btnradio" id="btnradio4" autocomplete="off">
                        <label class="btn " for="btnradio4"><img
                                src="https://bizweb.dktcdn.net/100/421/124/themes/811860/assets/cart_payment_4.svg?1617678628801"
                                alt="Hình thức thanh toán"></label>
                        <div class="payment__method--money payment__method">
                            <p>Quý khách chỉ phải thanh toán khi nhận được hàng - Chi phí vận chuyển và thời gian vận
                                chuyển
                                sẽ được nhân viên gọi điện xác nhận!
                                <br> <br>Thông tin chi tiết đơn hàng sẽ được chúng tôi gửi về email của bạn!
                                <br><br>
                                Để đảm bảo giải quyết các vấn đề phát sinh về đơn hàng một cách minh bạch, quý khách vui
                                lòng quay lại video khi mở hàng.
                                <br> <br>

                                Trong trường hợp shop gửi thiếu hàng, hỏng hàng, sai hàng quý khách vui lòng phản hồi và
                                gửi lại video cho shop để kiểm chứng, cửa hàng sẽ tiến hành bù hoàn sau khi đã xác nhận.
                                <br> <br>

                                Trường hợp không có video bóc hàng shop xin TỪ CHỐI giải quyết.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <h2>Đơn hàng của bạn</h2>
            <div class="cart-item" data-price="750000">
                <img src="/Images/BanPhim/banphim2.png" alt="Bàn phím cơ DareU EK65s White Black PBT Dream Switch">
                <div class="cart-details">
                    <p>Bàn phím cơ DareU EK65s White Black PBT Dream Switch</p>
                    <p class="price">750.000₫ <span class="original-price">899.000₫</span></p>
                </div>
            </div>

            <div class="cart-item" data-price="400000">
                <img src="/Images/Chuot/chuot4.png" alt="Chuột Logitech G102 LightSync Black">
                <div class="cart-details">
                    <p>Chuột Logitech G102 LightSync Black</p>
                    <p class="price">400.000₫ <span class="original-price">599.000₫</span></p>
                </div>
            </div>

            <div class="total">
                <p>Tổng tiền hàng: <span id="total-price">1.150.000₫</span></p>
                <p>Phí vận chuyển: <span id="ship-price" ship-price="30000">30.000₫</span></p>
                <p>Tổng tiền: <span id="total-price-final">1.180.000₫</span></p>
                <button type="submit" class="payment--button" name="payment--button"
                    onclick="location.href='/page_user/thanks.html'">Đặt hàng</button>
            </div>

        </section>

        <footer class="footer">
            <div class="footer__container">

                <div class="footer__section">
                    <h3>HỖ TRỢ</h3>
                    <ul>
                        <li><a href="#">Hướng dẫn mua hàng</a></li>
                        <li><a href="#">Sản phẩm yêu thích</a></li>
                        <li><a href="https://www.facebook.com/profile.php?id=100067582450693" target="_blank"><i
                                    class="fab fa-facebook-f"></i></a></li>
                        <li><a href="https://instagram.com" target="_blank"><i class="fab fa-instagram"></i></a>
                        </li>
                    </ul>
                </div>
                <div class="footer__contact">
                    <h3>THÔNG TIN LIÊN HỆ</h3>
                    <p>Giờ làm việc: Thứ 2 - Thứ 7: 8h00 đến 17h30</p>
                    <p>Email: support@gearlab.com</p>
                    <p>Hotline: 1800-1003</p>
                </div>
            </div>
            <a href="#" class="BackToTop cd-top text-replace js-cd-top">
                <i class="fa fa-angle-up"></i>
            </a>
        </footer>
    </div>
    <!-- JQUERY  -->
    <script src="../node_modules/jquery/dist/jquery.min.js"></script>
    <!-- BOOSTRAP JS  -->
    <script src="../js/bootstrap.bundle.min.js"></script>
    <!-- UTIL JS  -->
    <script src="../js/util.js"></script>
    <!-- BACKTOTOP JS  -->
    <script src="../js/main-backToTop.js"></script>
    <!-- PAYMENT JS  -->
    <script>
        // kiếm thẻ có id là mainNav 
        //kiếm thẻ ul
        var paymentMethod = document.getElementById("payment__method");
        // kiếm thẻ con li 
        var listMethod = paymentMethod.getElementsByTagName("label");
        for (var i = 0; i < listMethod.length; i++) {
            // khi thẻ li đc click thì gọi hàm nó ra
            listMethod[i].addEventListener("click", function () {
                //tìm thẻ nào đang đc gắn acitve
                var current = document.querySelector("#payment__method .active");
                // xóa class active của thẻ đang được gắn
                current.className = current.className.replace("active", "");
                // thêm class active vào thẻ li được click 
                this.className += "active";

            });
        }


        function validateForm() {
            const name = document.getElementById("payment--receiver").value;
            const phone = document.getElementById("payment--phone").value;
            const address = document.getElementById("payment--adr").value;

            if (!name || !phone || !address) {
                alert("Vui lòng điền đầy đủ thông tin!");
                return false;
            }
            return true;
        }
        document.querySelector(".payment--button").addEventListener("click", function (e) {
            if (!validateForm()) {
                e.preventDefault();
            }
        });

        // cập nhật tổng tiền
        function updateTotal() {
            const cartItems = document.querySelectorAll(".cart-item");
            let total = 0;
            cartItems.forEach(item => {
                total += parseInt(item.getAttribute("data-price"));
            });
            const shippingFee = parseInt(document.getElementById("ship-price").getAttribute("ship-price"));
            const finalTotal = total + shippingFee;

            document.getElementById("total-price").innerText = `${total.toLocaleString()}₫`;
            document.getElementById("total-price-final").innerText = `${finalTotal.toLocaleString()}₫`;
        }
        updateTotal();

        document.getElementById("payment--defaul").addEventListener("change", function () {
            if (this.checked) {
                document.getElementById("payment--receiver").value = "Nguyễn Văn A"; // Tên mẫu
                document.getElementById("payment--phone").value = "0909123456";
                document.getElementById("payment--adr").value = "254 Âu Cơ, Tân Bình, TP. HCM";
            }
        });
    </script>

    <script>
        // Thêm sự kiện click cho nút đăng xuất
        document.querySelector('.fa-sign-out-alt').addEventListener('click', function (event) {
            event.preventDefault(); // Ngăn chặn hành động mặc định
            const confirmLogout = confirm('Bạn có chắc muốn đăng xuất không?');
            if (confirmLogout) {
                window.location.href = '/index.html'; // Điều hướng tới trang đăng xuất
            }
        });
    </script>
</body>

</html>